!function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e="function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?function(e){return t(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)};function n(){return!("undefined"==typeof window||!window.history||!window.history.pushState)}function o(t,e,o){this.root=null,this._routes=[],this._useHash=e,this._hash=void 0===o?"#":o,this._paused=!1,this._destroyed=!1,this._lastRouteResolved=null,this._notFoundHandler=null,this._defaultHandler=null,this._usePushState=!e&&n(),this._onLocationChange=this._onLocationChange.bind(this),this._genericHooks=null,this._historyAPIUpdateMethod="pushState",t?this.root=e?t.replace(/\/$/,"/"+this._hash):t.replace(/\/$/,""):e&&(this.root=this._cLoc().split(this._hash)[0].replace(/\/$/,"/"+this._hash)),this._listen(),this.updatePageLinks()}function i(t){return t instanceof RegExp?t:t.replace(/\/+$/,"").replace(/^\/+/,"^/")}function s(t){return t.replace(/\/$/,"").split("/").length}function r(t,e){return s(e)-s(t)}function a(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map(function(e){var n=function(t){var e=[];return{regexp:t instanceof RegExp?t:new RegExp(t.replace(o.PARAMETER_REGEXP,function(t,n,i){return e.push(i),o.REPLACE_VARIABLE_REGEXP}).replace(o.WILDCARD_REGEXP,o.REPLACE_WILDCARD)+o.FOLLOWED_BY_SLASH_REGEXP,o.MATCH_REGEXP_FLAGS),paramNames:e}}(i(e.route)),s=n.regexp,r=n.paramNames,a=t.replace(/^\/+/,"/").match(s),h=function(t,e){return 0===e.length?null:t?t.slice(1,t.length).reduce(function(t,n,o){return null===t&&(t={}),t[e[o]]=decodeURIComponent(n),t},null):null}(a,r);return!!a&&{match:a,route:e,params:h}}).filter(function(t){return t})}function h(t,e){return a(t,e)[0]||!1}function u(t,e){var n=e.map(function(e){return""===e.route||"*"===e.route?t:t.split(new RegExp(e.route+"($|/)"))[0]}),o=i(t);return n.length>1?n.reduce(function(t,e){return t.length>e.length&&(t=e),t},n[0]):1===n.length?n[0]:o}function c(t,e,o){var i,s=function(t){return t.split(/\?(.*)?$/)[0]};return void 0===o&&(o="#"),n()&&!e?s(t).split(o)[0]:(i=t.split(o)).length>1?s(i[1]):s(i[0])}function l(t,n,o){if(n&&"object"===(void 0===n?"undefined":e(n))){if(n.before)return void n.before(function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(t(),n.after&&n.after(o))},o);if(n.after)return t(),void(n.after&&n.after(o))}t()}o.prototype={helpers:{match:h,root:u,clean:i,getOnlyURL:c},navigate:function(t,e){var n;return t=t||"",this._usePushState?(n=(n=(e?"":this._getRoot()+"/")+t.replace(/^\/+/,"/")).replace(/([^:])(\/{2,})/g,"$1/"),history[this._historyAPIUpdateMethod]({},"",n),this.resolve()):"undefined"!=typeof window&&(t=t.replace(new RegExp("^"+this._hash),""),window.location.href=window.location.href.replace(/#$/,"").replace(new RegExp(this._hash+".*$"),"")+this._hash+t),this},on:function(){for(var t=this,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];if("function"==typeof o[0])this._defaultHandler={handler:o[0],hooks:o[1]};else if(o.length>=2)if("/"===o[0]){var s=o[1];"object"===e(o[1])&&(s=o[1].uses),this._defaultHandler={handler:s,hooks:o[2]}}else this._add(o[0],o[1],o[2]);else if("object"===e(o[0])){Object.keys(o[0]).sort(r).forEach(function(e){t.on(e,o[0][e])})}return this},off:function(t){return null!==this._defaultHandler&&t===this._defaultHandler.handler?this._defaultHandler=null:null!==this._notFoundHandler&&t===this._notFoundHandler.handler&&(this._notFoundHandler=null),this._routes=this._routes.reduce(function(e,n){return n.handler!==t&&e.push(n),e},[]),this},notFound:function(t,e){return this._notFoundHandler={handler:t,hooks:e},this},resolve:function(t){var e,o,i=this,s=(t||this._cLoc()).replace(this._getRoot(),"");this._useHash&&(s=s.replace(new RegExp("^/"+this._hash),"/"));var r=function(t){return t.split(/\?(.*)?$/).slice(1).join("")}(t||this._cLoc()),a=c(s,this._useHash,this._hash);return!this._paused&&(this._lastRouteResolved&&a===this._lastRouteResolved.url&&r===this._lastRouteResolved.query?(this._lastRouteResolved.hooks&&this._lastRouteResolved.hooks.already&&this._lastRouteResolved.hooks.already(this._lastRouteResolved.params),!1):(o=h(a,this._routes))?(this._callLeave(),this._lastRouteResolved={url:a,query:r,hooks:o.route.hooks,params:o.params,name:o.route.name},e=o.route.handler,l(function(){l(function(){o.route.route instanceof RegExp?e.apply(void 0,o.match.slice(1,o.match.length)):e(o.params,r)},o.route.hooks,o.params,i._genericHooks)},this._genericHooks,o.params),o):this._defaultHandler&&(""===a||"/"===a||a===this._hash||function(t,e,o){if(n()&&!e)return!1;if(!t.match(o))return!1;var i=t.split(o);return i.length<2||""===i[1]}(a,this._useHash,this._hash))?(l(function(){l(function(){i._callLeave(),i._lastRouteResolved={url:a,query:r,hooks:i._defaultHandler.hooks},i._defaultHandler.handler(r)},i._defaultHandler.hooks)},this._genericHooks),!0):(this._notFoundHandler&&l(function(){l(function(){i._callLeave(),i._lastRouteResolved={url:a,query:r,hooks:i._notFoundHandler.hooks},i._notFoundHandler.handler(r)},i._notFoundHandler.hooks)},this._genericHooks),!1))},destroy:function(){this._routes=[],this._destroyed=!0,this._lastRouteResolved=null,this._genericHooks=null,clearTimeout(this._listeningInterval),"undefined"!=typeof window&&(window.removeEventListener("popstate",this._onLocationChange),window.removeEventListener("hashchange",this._onLocationChange))},updatePageLinks:function(){var t=this;"undefined"!=typeof document&&this._findLinks().forEach(function(e){e.hasListenerAttached||(e.addEventListener("click",function(n){if((n.ctrlKey||n.metaKey)&&"a"==n.target.tagName.toLowerCase())return!1;var o=t.getLinkPath(e);t._destroyed||(n.preventDefault(),t.navigate(o.replace(/\/+$/,"").replace(/^\/+/,"/")))}),e.hasListenerAttached=!0)})},generate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._routes.reduce(function(n,o){var i;if(o.name===t)for(i in n=o.route,e)n=n.toString().replace(":"+i,e[i]);return n},"");return this._useHash?this._hash+n:n},link:function(t){return this._getRoot()+t},pause:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._paused=t,this._historyAPIUpdateMethod=t?"replaceState":"pushState"},resume:function(){this.pause(!1)},historyAPIUpdateMethod:function(t){return void 0===t?this._historyAPIUpdateMethod:(this._historyAPIUpdateMethod=t,t)},disableIfAPINotAvailable:function(){n()||this.destroy()},lastRouteResolved:function(){return this._lastRouteResolved},getLinkPath:function(t){return t.getAttribute("href")},hooks:function(t){this._genericHooks=t},_add:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"string"==typeof t&&(t=encodeURI(t)),this._routes.push("object"===(void 0===n?"undefined":e(n))?{route:t,handler:n.uses,name:n.as,hooks:o||n.hooks}:{route:t,handler:n,hooks:o}),this._add},_getRoot:function(){return null!==this.root?this.root:(this.root=u(this._cLoc().split("?")[0],this._routes),this.root)},_listen:function(){var t=this;if(this._usePushState)window.addEventListener("popstate",this._onLocationChange);else if("undefined"!=typeof window&&"onhashchange"in window)window.addEventListener("hashchange",this._onLocationChange);else{var e=this._cLoc(),n=void 0,o=void 0;(o=function(){n=t._cLoc(),e!==n&&(e=n,t.resolve()),t._listeningInterval=setTimeout(o,200)})()}},_cLoc:function(){return"undefined"!=typeof window?void 0!==window.__NAVIGO_WINDOW_LOCATION_MOCK__?window.__NAVIGO_WINDOW_LOCATION_MOCK__:i(window.location.href):""},_findLinks:function(){return[].slice.call(document.querySelectorAll("[data-navigo]"))},_onLocationChange:function(){this.resolve()},_callLeave:function(){var t=this._lastRouteResolved;t&&t.hooks&&t.hooks.leave&&t.hooks.leave(t.params)}},o.PARAMETER_REGEXP=/([:*])(\w+)/g,o.WILDCARD_REGEXP=/\*/g,o.REPLACE_VARIABLE_REGEXP="([^/]+)",o.REPLACE_WILDCARD="(?:.*)",o.FOLLOWED_BY_SLASH_REGEXP="(?:/$|$)",o.MATCH_REGEXP_FLAGS="";var d=new o("http://localhost:5000",!0,"#!");function _(){}function f(t,e){for(var n in e)t[n]=e[n];return t}function p(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n)}function m(t){t.parentNode.removeChild(t)}function v(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function R(t,e,n){t.setAttribute(e,n)}function E(t,e){t.data=""+e}function P(){return Object.create(null)}function L(e,n){return e!=e?n==n:e!==n||e&&"object"===t(e)||"function"==typeof e}function w(t,e){return t!=t?e==e:t!==e}function b(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var o=0;o<n.length;o+=1){var i=n[o];if(!i.__calling)try{i.__calling=!0,i.call(this,e)}finally{i.__calling=!1}}}function A(t){t._lock=!0,S(t._beforecreate),S(t._oncreate),S(t._aftercreate),t._lock=!1}function k(){return this._state}function C(t,e){t._handlers=P(),t._slots=P(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function H(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function S(t){for(;t&&t.length;)t.shift()()}function I(){this.store._remove(this)}var N={destroy:function(t){this.destroy=_,this.fire("destroy"),this.set=_,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:k,fire:b,on:H,set:function(t){this._set(f({},t)),this.root._lock||A(this.root)},_recompute:_,_set:function(t){var e=this._state,n={},o=!1;for(var i in t=f(this._staged,t),this._staged={},t)this._differs(t[i],e[i])&&(n[i]=o=!0);o&&(this._state=f(f({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:e})))},_stage:function(t){f(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:L};function x(t,e){var n,o,i,s=e.$Page;function r(e){var n={id:e.$id};return{root:t.root,store:t.store,data:n}}if(s)var a=new s(r(e));return{c(){(n=v("div")).innerHTML='<a href="/" data-navigo="">Home</a> | \n  <a href="/products" data-navigo="">Products</a> | \n  <a href="/products/42" data-navigo="">Product 42</a> | \n  <a href="/jobs" data-navigo="">Jobs</a> | \n  <a href="/about" data-navigo="">About Us</a>',o=y("\n"),a&&a._fragment.c(),i=document.createComment("")},m(t,e){g(t,n,e),g(t,o,e),a&&a._mount(t,e),g(t,i,e)},p(t,e){var n={};t.$id&&(n.id=e.$id),s!==(s=e.$Page)?(a&&a.destroy(),s?((a=new s(r(e)))._fragment.c(),a._mount(i.parentNode,i)):a=null):s&&a._set(n)},d(t){t&&(m(n),m(o),m(i)),a&&a.destroy(t)}}}function $(t){C(this,t),this._state=f(this.store._init(["Page","id"]),t.data),this.store._add(this,["Page","id"]),this._intro=!0,this._handlers.destroy=[I],this._fragment=x(this,this._state),this.root._oncreate.push(()=>{(function(){d.updatePageLinks()}).call(this),this.fire("update",{changed:function(t,e){for(var n in e)t[n]=1;return t}({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),A(this))}function O(t){var e;C(this,t),this._state=f({},t.data),this._intro=!0,this._fragment=(this._state,{c(){(e=v("h1")).textContent="Home"},m(t,n){g(t,e,n)},p:_,d(t){t&&m(e)}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function F(t){var e;C(this,t),this._state=f({},t.data),this._intro=!0,this._fragment=(this._state,{c(){(e=v("h1")).textContent="Products"},m(t,n){g(t,e,n)},p:_,d(t){t&&m(e)}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function D(t){var e,n,o,i;C(this,t),this._state=f({},t.data),this._intro=!0,this._fragment=(e=this._state,{c(){n=v("h1"),o=y("Product # "),i=y(e.id)},m(t,e){g(t,n,e),p(n,o),p(n,i)},p(t,e){t.id&&E(i,e.id)},d(t){t&&m(n)}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function G(t){var e;C(this,t),this._state=f({},t.data),this._intro=!0,this._fragment=(this._state,{c(){(e=v("h1")).textContent="Jobs"},m(t,n){g(t,e,n)},p:_,d(t){t&&m(e)}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function M(t,e){var n,o,i,s;return{c(){n=v("h3"),o=y("Your contact person is "),i=v("u"),s=y(e.contactPerson)},m(t,e){g(t,n,e),p(n,o),p(n,i),p(i,s)},p(t,e){t.contactPerson&&E(s,e.contactPerson)},d(t){t&&m(n)}}}function j(t){var e,n,o,i,s,r,a,h,u,c,l,d,_,P,L,w,b,A,k,H,S,I,N,x,$,O;C(this,t),this._state=f({title:"Contact",clientName:"John Doe",clientEmail:"john.doe@test.com",clientAge:33},t.data),this._intro=!0,this._fragment=(e=this._state,O=!!e.contactPerson&&M(0,e),{c(){n=v("h2"),o=y(e.title),i=y("\n"),s=v("div"),O&&O.c(),r=y("\n  "),(a=v("label")).textContent="Name",h=y("\n  "),u=v("input"),c=y("\n  "),(l=v("label")).textContent="Email",d=y("\n  "),_=v("input"),P=y("\n  "),(L=v("label")).textContent="Age",w=y("\n  "),b=v("input"),A=y("\n  "),k=v("br"),H=y("\n  "),S=v("textarea"),I=y("\n  "),N=v("br"),x=y("\n  "),($=v("button")).textContent="Send",a.htmlFor="clientName",u.id="clientName",R(u,"type","text"),u.value=e.clientName,l.htmlFor="clientEmail",_.id="clientEmail",R(_,"type","email"),_.value=e.clientEmail,L.htmlFor="clientAge",b.id="clientAge",R(b,"type","number"),b.value=e.clientAge,S.id="message",S.className="svelte-p673kc",$.name="send",$.id="send",s.className="contact svelte-p673kc"},m(t,e){g(t,n,e),p(n,o),g(t,i,e),g(t,s,e),O&&O.m(s,null),p(s,r),p(s,a),p(s,h),p(s,u),p(s,c),p(s,l),p(s,d),p(s,_),p(s,P),p(s,L),p(s,w),p(s,b),p(s,A),p(s,k),p(s,H),p(s,S),p(s,I),p(s,N),p(s,x),p(s,$)},p(t,e){t.title&&E(o,e.title),e.contactPerson?O?O.p(t,e):((O=M(0,e)).c(),O.m(s,r)):O&&(O.d(1),O=null),t.clientName&&(u.value=e.clientName),t.clientEmail&&(_.value=e.clientEmail),t.clientAge&&(b.value=e.clientAge)},d(t){t&&(m(n),m(i),m(s)),O&&O.d()}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function U(t){var e,n,o,i;C(this,t),this._state=f({},t.data),this._intro=!0,this._fragment=(e=this,this._state,i=new j({root:e.root,store:e.store,data:{contactPerson:"Jane Doe"}}),{c(){(n=v("h1")).textContent="About Us",o=y("\n"),i._fragment.c()},m(t,e){g(t,n,e),g(t,o,e),i._mount(t,e)},p:_,d(t){t&&(m(n),m(o)),i.destroy(t)}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),A(this))}function T(t,e){this._handlers={},this._dependents=[],this._computed=P(),this._sortedComputedProperties=[],this._state=f({},t),this._differs=e&&e.immutable?w:L}f($.prototype,N),f(O.prototype,N),f(F.prototype,N),f(D.prototype,N),f(G.prototype,N),f(j.prototype,N),f(U.prototype,N),f(T.prototype,{_add:function(t,e){this._dependents.push({component:t,props:e})},_init:function(t){for(var e={},n=0;n<t.length;n+=1){var o=t[n];e["$"+o]=this._state[o]}return e},_remove:function(t){for(var e=this._dependents.length;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set:function(t,e){var n=this,o=this._state;this._state=f(f({},o),t);for(var i=0;i<this._sortedComputedProperties.length;i+=1)this._sortedComputedProperties[i].update(this._state,e);this.fire("state",{changed:e,previous:o,current:this._state}),this._dependents.filter(function(t){for(var o={},i=!1,s=0;s<t.props.length;s+=1){var r=t.props[s];r in e&&(o["$"+r]=n._state[r],i=!0)}if(i)return t.component._stage(o),!0}).forEach(function(t){t.component.set({})}),this.fire("update",{changed:e,previous:o,current:this._state})},_sortComputedProperties:function(){var t,e=this._computed,n=this._sortedComputedProperties=[],o=P();function i(s){var r=e[s];r&&(r.deps.forEach(function(e){if(e===t)throw new Error("Cyclical dependency detected between ".concat(e," <-> ").concat(s));i(e)}),o[s]||(o[s]=!0,n.push(r)))}for(var s in this._computed)i(t=s)},compute:function(t,e,n){var o,i=this,s={deps:e,update:function(s,r,a){var h=e.map(function(t){return t in r&&(a=!0),s[t]});if(a){var u=n.apply(null,h);i._differs(u,o)&&(o=u,r[t]=!0,s[t]=o)}}};this._computed[t]=s,this._sortComputedProperties();var r=f({},this._state),a={};s.update(r,a,!0),this._set(r,a)},fire:b,get:k,on:H,set:function(t){var e=this._state,n=this._changed={},o=!1;for(var i in t){if(this._computed[i])throw new Error("'".concat(i,"' is a read-only property"));this._differs(t[i],e[i])&&(n[i]=o=!0)}o&&this._set(t,n)}});var W=new T({Page:O,id:null});window.store=W;new $({target:document.querySelector("root"),store:W});var X=function(){console.log(JSON.stringify(d.lastRouteResolved(),null,2))};d.on({"/products/:id":function(t){X(),W.set({Page:D}),W.set({id:t.id})},"/products":function(){X(),W.set({Page:F}),W.set({id:null})},"/jobs":function(){X(),W.set({Page:G}),W.set({id:null})},"/about":function(){X(),W.set({Page:U}),W.set({id:null})},"/":function(){X(),W.set({Page:O}),W.set({id:null})}}).resolve()}();
//# sourceMappingURL=bundle.js.map
